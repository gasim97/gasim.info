<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>EESoc Challenge Scoreboard</title>
        <link rel="icon" href="images/siteicon.png">
        <link rel="mask-icon" href="images/sitemaskicon.svg" color="#000000">
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/eesocmain.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
    
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">
				<!-- Main -->
                    <section id="main">

						<!-- Items -->
                            <div class="items" id="team-names">
                                <div id="div-1" class="item intro span-3">
									<input type="search" id="team-1-input" autofocus="autofocus" style="background-color: rgba(18, 21, 29, 0); border: 0em; text-align: center;" required placeholder="> Team Name"/>
								</div>
                                <div class="item intro3 span-3">
                                    <h1 id="vs">vs</h1>
                                </div>
                                <div class="item intro span-3">
                                    <input type="search" id="team-2-input" style="background-color: rgba(18, 21, 29, 0); border: 0em; text-align: center;" required placeholder="> Team Name"/>
								</div>
							</div>
                            
                            <!-- Items -->
                        <div id="scoreboard"  style="display: none">
                            <div class="items" id="scoreboard">
                                <div class="item intro span-3">
									<p id="team-1">Team 1</p>
								</div>
                                <div class="item intro3 span-3"></div>
                                <div class="item intro span-3">
                                    <p id="team-2">Team 2</p>
								</div>
							</div>
                        
				            <div class="items">
                                <div class="item intro span-2">
									<h1 id="score1">0</h1>
								</div>
                                <div class="item intro3 span-2">
                                    <h1>vs</h1>
                                </div>
                                <div class="item intro span-2">
									<h1 id="score2">0</h1>
								</div>
							</div>
				
                            	<div class="item intro3 span-5"></div>
                            	<div class="item intro3 span-5"></div>
                            	<div class="item intro3 span-5"></div>
                            	<div class="item intro3 span-5"></div>
                        
                            <div class="items">
                                <div class="item intro2 span-4" onclick="p101()">
									<h1 id="p101">+10</h1>
								</div>
                                <div class="item intro2 span-4" onclick="p51()">
									<h1 id="p51">+5</h1>
								</div>
                                <div class="item intro2 span-4" onclick="m51()">
									<h1 id="m51">-5</h1>
								</div>
                                <div class="item intro3 span-5"></div>
                                <div class="item intro2 span-4" onclick="p102()">
									<h1 id="p102">+10</h1>
								</div>
                                <div class="item intro2 span-4" onclick="p52()">
									<h1 id="p52">+5</h1>
								</div>
                                <div class="item intro2 span-4" onclick="m52()">
									<h1 id="m52">-5</h1>
								</div>
							</div>
                        </div>
                        
					</section>    

				<!-- Footer -->
					<section id="footer">
						<section>
							<p1>EESoc Challenge | 2018</p1>
						</section>
						<section>
						    <div class="menu-right-wrap" id="menu-initial">
							<nav class="menu-right">
							    <ul class="clearfix">
								<li><a onclick="newTeams()">Sumbit Team Names</a></li>
							    </ul>
							</nav>
						    </div>

						    <div class="menu-right-wrap" id="menu-scoreboard" style="display: none">
							<nav class="menu-right">
							    <ul class="clearfix">
								<li id="reset"><a onclick="confirm_reset()">Reset Score</a></li>
								<li id="confirm-reset" style="display: none"><a onclick="reset()">Are You Sure?</a></li>
								<li id="score-reset" style="display: none"><a2>Score Reset</a2></li>
								<li><a onclick="changeTeams()">Change Teams</a></li>
							    </ul>
							</nav>
						    </div>

						     <div class="menu-right-wrap" id="menu-team-names" style="display: none">
							<nav class="menu-right">
							    <ul class="clearfix">
								<li><a onclick="newTeams()">Sumbit New Teams</a></li>
								<li><a onclick="back()">Back to Scoreboard</a></li>
							    </ul>
							</nav>
						    </div>
						</section>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
            <script>
                var time_out;
                var time_out_score_1;
                var time_out_score_2;
                var total_1 = 0;
                var total_2 = 0;
                function p101() {
                    if (time_out_score_1 > 0) {
                        total_1 = total_1 + 10;
                    } else {
                        total_1 = 10;
                    }
                    var total_string;
                    if (total_1 >= 0) {
                        total_string = " <p1> +" + total_1 + "</p1>"
                    } else {
                        total_string = " <p2> " + total_1 + "</p2>"
                    }
                    var score_node = document.getElementById("score1");
                    var score_string = score_node.textContent;
                    var score = parseInt(score_string)
                    score = score + 10;
                    result = score.toString();
                    document.getElementById("score1").innerHTML = result + " " + total_string;
                    clearTimeout(time_out_score_1);
                    time_out_score_1 = setTimeout(function(){
                        document.getElementById("score1").innerHTML = result;
                        total_1 = 0;
                    }, 500);
                }
                function p51() {
                    if (time_out_score_1 > 0) {
                        total_1 = total_1 + 5;
                    } else {
                        total_1 = 5;
                    }
                    var total_string;
                    if (total_1 >= 0) {
                        total_string = " <p1> +" + total_1 + "</p1>"
                    } else {
                        total_string = " <p2> " + total_1 + "</p2>"
                    }
                    var score_node = document.getElementById("score1");
                    var score_string = score_node.textContent;
                    var score = parseInt(score_string)
                    score = score + 5;
                    result = score.toString();
                    document.getElementById("score1").innerHTML = result + " " + total_string;
                    clearTimeout(time_out_score_1);
                    time_out_score_1 = setTimeout(function(){
                        document.getElementById("score1").innerHTML = result;
                        total_1 = 0;
                    }, 500);
                }
                function m51() {
                    if (time_out_score_1 > 0) {
                        total_1 = total_1 - 5;
                    } else {
                        total_1 = -5;
                    }
                    var total_string;
                    if (total_1 >= 0) {
                        total_string = " <p1> +" + total_1 + "</p1>"
                    } else {
                        total_string = " <p2> " + total_1 + "</p2>"
                    }
                    var score_node = document.getElementById("score1");
                    var score_string = score_node.textContent;
                    var score = parseInt(score_string)
                    score = score - 5;
                    result = score.toString();
                    document.getElementById("score1").innerHTML = result + " " + total_string;
                    clearTimeout(time_out_score_1);
                    time_out_score_1 = setTimeout(function(){
                        document.getElementById("score1").innerHTML = result;
                        total_1 = 0;
                    }, 500);
                }
                function p102() {
                    if (time_out_score_2 > 0) {
                        total_2 = total_2 + 10;
                    } else {
                        total_2 = 10;
                    }
                    var total_string;
                    if (total_2 >= 0) {
                        total_string = " <p1> +" + total_2 + "</p1>"
                    } else {
                        total_string = " <p2> " + total_2 + "</p2>"
                    }
                    var score_node = document.getElementById("score2");
                    var score_string = score_node.textContent;
                    var score = parseInt(score_string)
                    score = score + 10;
                    result = score.toString();
                    document.getElementById("score2").innerHTML = result + " " + total_string;
                    clearTimeout(time_out_score_2);
                    time_out_score_2 = setTimeout(function(){
                        document.getElementById("score2").innerHTML = result;
                        total_2 = 0;
                    }, 500);
                }
                function p52() {
                    if (time_out_score_2 > 0) {
                        total_2 = total_2 + 5;
                    } else {
                        total_2 = 5;
                    }
                    var total_string;
                    if (total_2 >= 0) {
                        total_string = " <p1> +" + total_2 + "</p1>"
                    } else {
                        total_string = " <p2> " + total_2 + "</p2>"
                    }
                    var score_node = document.getElementById("score2");
                    var score_string = score_node.textContent;
                    var score = parseInt(score_string)
                    score = score + 5;
                    result = score.toString();
                    document.getElementById("score2").innerHTML = result + " " + total_string;
                    clearTimeout(time_out_score_2);
                    time_out_score_2 = setTimeout(function(){
                        document.getElementById("score2").innerHTML = result;
                        total_2 = 0;
                    }, 500);
                }
                function m52() {
                    if (time_out_score_2 > 0) {
                        total_2 = total_2 - 5;
                    } else {
                        total_2 = -5;
                    }
                    var total_string;
                    if (total_2 >= 0) {
                        total_string = " <p1> +" + total_2 + "</p1>"
                    } else {
                        total_string = " <p2> " + total_2 + "</p2>"
                    }
                    var score_node = document.getElementById("score2");
                    var score_string = score_node.textContent;
                    var score = parseInt(score_string)
                    score = score - 5;
                    result = score.toString();
                    document.getElementById("score2").innerHTML = result + " " + total_string;
                    clearTimeout(time_out_score_2);
                    time_out_score_2 = setTimeout(function(){
                        document.getElementById("score2").innerHTML = result;
                        total_2 = 0;
                    }, 500);
                }
                function confirm_reset() {
                    var reset = document.getElementById("reset");
                    reset.style.display = "none";
                    var confirm_reset = document.getElementById("confirm-reset");
                    confirm_reset.style.display = "block";
                    time_out = setTimeout(function(){
                        confirm_reset.style.display = "none";
                        reset.style.display = "block";
                    }, 5000);
                }
                function reset() {
                    document.getElementById("score1").innerHTML = "0";
                    document.getElementById("score2").innerHTML = "0";
                    var confirm_reset = document.getElementById("confirm-reset");
                    confirm_reset.style.display = "none";
                    var score_reset = document.getElementById("score-reset");
                    score_reset.style.display = "block";
                    var reset = document.getElementById("reset");
                    clearTimeout(time_out);
                    time_out = setTimeout(function(){
                        score_reset.style.display = "none";
                        reset.style.display = "block";
                    }, 2000);
                }
                function changeTeams() {
                    clearTimeout(time_out);
                    var scoreboard = document.getElementById("scoreboard");
                    scoreboard.style.display = "none";
                    var menu_scoreboard = document.getElementById("menu-scoreboard");
                    menu_scoreboard.style.display = "none";
                    var confirm_reset = document.getElementById("confirm-reset");
                    confirm_reset.style.display = "none";
                    var score_reset = document.getElementById("score-reset");
                    score_reset.style.display = "none";
                    var team_names = document.getElementById("team-names");
                    team_names.style.display = "block";
                    var menu_team_names = document.getElementById("menu-team-names");
                    menu_team_names.style.display = "block";
                    document.getElementById("team-1-input").focus();
                }
                function back() {
                    var team_names = document.getElementById("team-names");
                    team_names.style.display = "none";
                    var menu_team_names = document.getElementById("menu-team-names");
                    menu_team_names.style.display = "none";
                    var scoreboard = document.getElementById("scoreboard");
                    scoreboard.style.display = "block";
                    var menu_scoreboard = document.getElementById("menu-scoreboard");
                    menu_scoreboard.style.display = "block";
                    var reset = document.getElementById("reset");
                    reset.style.display = "block";
                }
                function newTeams() {
                    var team_1_input = document.getElementById("team-1-input").value;
                    var team_2_input = document.getElementById("team-2-input").value;
                    if (team_1_input == team_2_input && team_1_input != "") {
                        document.getElementById("vs").innerHTML = "vs<p><br />Duplicate Team Name</p>";
                        setTimeout(function(){
                            document.getElementById("vs").innerHTML = "vs";
                        }, 2000);
                    }else {
                        document.getElementById("team-1-input").blur();
                        document.getElementById("team-2-input").blur();
                        document.getElementById("score1").innerHTML = "0";
                        document.getElementById("score2").innerHTML = "0";
                        if (team_1_input == "") {
                            document.getElementById("team-1").innerHTML = "Team 1";
                        }else {
                            document.getElementById("team-1").innerHTML = team_1_input;
                        }
                        if (team_2_input == "") {
                            document.getElementById("team-2").innerHTML = "Team 2";
                        }else {
                            document.getElementById("team-2").innerHTML = team_2_input;
                        }
                        document.getElementById("team-1-input").innerHTML = "";
                        document.getElementById("team-2-input").innerHTML = "";
                        var team_names = document.getElementById("team-names");
                        team_names.style.display = "none";
                        var menu_initial = document.getElementById("menu-initial");
                        menu_initial.style.display = "none";
                        var menu_team_names = document.getElementById("menu-team-names");
                        menu_team_names.style.display = "none";
                        var scoreboard = document.getElementById("scoreboard");
                        scoreboard.style.display = "block";
                        var menu_scoreboard = document.getElementById("menu-scoreboard");
                        menu_scoreboard.style.display = "block";
			var confirm_reset = document.getElementById("confirm-reset");
                        confirm_reset.style.display = "none";
			var reset = document.getElementById("reset");
                        reset.style.display = "block";
                        document.getElementById("p101").innerHTML = "+10 <p>1</p>";
                        document.getElementById("p51").innerHTML = "+5 <p>2</p>";
                        document.getElementById("m51").innerHTML = "-5 <p>3</p>";
                        document.getElementById("p102").innerHTML = "+10 <p>Q</p>";
                        document.getElementById("p52").innerHTML = "+5 <p>W</p>";
                        document.getElementById("m52").innerHTML = "-5 <p>E</p>";
                        setTimeout(function(){
                            document.getElementById("p101").innerHTML = "+10";
                            document.getElementById("p51").innerHTML = "+5";
                            document.getElementById("m51").innerHTML = "-5";
                            document.getElementById("p102").innerHTML = "+10";
                            document.getElementById("p52").innerHTML = "+5";
                            document.getElementById("m52").innerHTML = "-5";
                        }, 3000);
                    }
                }
		
                var team_1 = document.getElementById("team-1-input");
                team_1.addEventListener("keyup", function(event) {
                    var scoreboard = document.getElementById("scoreboard");
                    if (scoreboard.style.display == "none") {
                        if (event.keyCode === 13) {
                            document.getElementById("team-2-input").focus();
                        }
                    }
                });
                
                var team_2 = document.getElementById("team-2-input");
                team_2.addEventListener("keyup", function(event) {
                    var scoreboard = document.getElementById("scoreboard");
                    if (scoreboard.style.display == "none") {
                        if (event.keyCode === 13) {
                            newTeams();
                        }
                    }
                });
		    
		window.onkeyup = function(e) {
                    var scoreboard = document.getElementById("scoreboard");
                    if (scoreboard.style.display == "block") {
                        var key = e.keyCode ? e.keyCode : e.which;
                        if (key == 80 || key == 49) {
                            p101();
                        }else if (key == 219 || key == 50) {
                            p51();
                        }else if (key == 221 || key == 51) {
                            m51();
                        }else if (key == 81 || key == 48) {
                            p102();
                        }else if (key == 87 || key == 189) {
                            p52();
                        }else if (key == 69 || key == 187) {
                            m52();
                        }
                    }
                }
            </script>

	</body>
</html>
